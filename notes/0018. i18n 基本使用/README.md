# [0018. i18n åŸºæœ¬ä½¿ç”¨](https://github.com/tnotesjs/TNotes.vue/tree/main/notes/0018.%20i18n%20%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8)

<!-- region:toc -->

- [1. ğŸ“ summary](#1--summary)
- [2. ğŸ’» demo - i18n åŸºæœ¬æ˜¯ç”¨](#2--demo---i18n-åŸºæœ¬æ˜¯ç”¨)

<!-- endregion:toc -->

## 1. ğŸ“ summary

- i18n åŸºæœ¬ä½¿ç”¨
- ç†è§£ legacy é…ç½®
- ç†è§£ locale é…ç½®
- ç†è§£ fallbackLocale é…ç½®
- ç†è§£ messages é…ç½®
æœ¬æ–‡ä»‹ç»äº†å¦‚ä½•å°† i18n åŠ å…¥åˆ° vite æ­å»ºçš„ vue-ts å·¥ç¨‹ä¸­ï¼Œå¹¶å¯¹å…¶ä¸­çš„ä¸€äº›å¸¸è§é…ç½®é¡¹åšäº†ç®€å•çš„ä»‹ç»ã€‚

## 2. ğŸ’» demo - i18n åŸºæœ¬æ˜¯ç”¨

**demo åˆå§‹åŒ–**

- `pnpm create vite`ï¼Œè·Ÿç€æç¤ºèµ°ï¼Œåˆ›å»ºä¸€ä¸ª vue-ts é¡¹ç›®ã€‚
- `pnpm add vue-i18n@9`ï¼Œå®‰è£… vue-i18nï¼Œé€‰æ‹© v9 ç‰ˆæœ¬ã€‚ï¼ˆv9 æ˜¯å½“å‰å†™æ–‡æ¡£æ—¶çš„æœ€æ–°ç‰ˆæœ¬ï¼‰

**æŒ‚è½½ i18n æ’ä»¶**

```ts
// src/main.ts
import { createApp } from 'vue'
import { createI18n } from 'vue-i18n'

import App from './App.vue'

const i18n = createI18n({
  // something vue-i18n options here ...
  legacy: false,
  // å•è¯ legacy è¡¨ç¤ºâ€œé—ç•™â€çš„æ„æ€
  // å®˜æ–¹å¯¹æ­¤é…ç½®é¡¹çš„æè¿°ï¼š
  // The default is to use the Legacy API mode.
  // If you want to use the Composition API mode, you need to set it to false.
  // ç¿»è¯‘ç¿»è¯‘ï¼š
  // i18n å¯¹æ—§ç‰ˆæœ¬çš„ vue çš„å†™æ³•åšäº†å…¼å®¹
  // å¦‚æœä½ çš„ vue ç‰ˆæœ¬æ¯”è¾ƒæ—§ï¼Œæˆ–è€…ä½ æƒ³è¦ä½¿ç”¨æ—§ç‰ˆçš„è¯­æ³•æ¥å†™ï¼Œé‚£ä¹ˆä¸éœ€è¦é…ç½®è¿™ä¸ªå­—æ®µï¼Œ
  // å› ä¸º legacy çš„é»˜è®¤å€¼å°±æ˜¯ trueï¼Œè¿™æ„å‘³ç€ä½ é€‰æ‹©ä½¿ç”¨é—ç•™çš„æ—§ç‰ˆæœ¬çš„å†™æ³•ã€‚
  // å¦‚æœä½ æƒ³è¦ä½¿ç”¨ Composition API çš„æ–°ç‰ˆæœ¬è¯­æ³•æ¥å†™ï¼Œé‚£ä¹ˆä½ éœ€è¦å°† legacy è®¾ç½®ä¸º falseã€‚

  locale: 'zh-CN',
  // locale è¿™ä¸ªå•è¯å¯ä»¥ç†è§£ä¸ºâ€œå½“åœ°â€çš„æ„æ€
  // å®ƒè®¾ç½®çš„æ˜¯å½“åœ°çš„é»˜è®¤è¯­è¨€
  // å…¶å®å°±æ˜¯æˆ‘ä»¬ä¸‹é¢é…ç½®çš„ messages ä¸­çš„ key å­—æ®µ
  // è¿™é‡Œè®¾ç½®ä¸º 'zh-CN'
  // æ„å‘³ç€æˆ‘ä»¬åœ¨ä½¿ç”¨ i18n çš„æ—¶å€™ï¼Œé»˜è®¤çš„è¯­è¨€å°±æ˜¯ 'zh-CN'ï¼Œå®ƒä¼šå»è¯»å–æˆ‘ä»¬é…ç½®çš„ message ä¸­çš„å†…å®¹ã€‚

  // fallbackLocale: 'en',
  fallbackLocale: ['en', 'fr'],
  // è®¾ç½®åå¤‡è¯­è¨€ä¸ºç›¸åŒçš„é»˜è®¤è¯­è¨€
  // å®ƒå®šä¹‰äº†å½“ç¿»è¯‘ä¸­ç¼ºå¤±æŸä¸ªç‰¹å®šçš„æœ¬åœ°åŒ–å­—ç¬¦ä¸²æ—¶ï¼Œåº”ç”¨åº”è¯¥å›é€€ï¼ˆfallbackï¼‰åˆ°å“ªä¸ªè¯­è¨€ç¯å¢ƒã€‚
  // è¯´äººè¯å°±æ˜¯ï¼Œå¦‚æœ lacale å¤±æ•ˆçš„è¯ï¼Œä¸‹ä¸€ä¸ªç”¨å•¥ã€‚
  // å®ƒçš„å€¼å¯ä»¥æ˜¯å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ã€‚

  // ã€ç¤ºä¾‹ 1ã€‘
  // æ¯”å¦‚ locale: 'zh-CN'ï¼ŒfallbackLocale: 'en'
  // æˆ‘ä»¬åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ i18n æä¾›çš„æ–¹æ³• $t å»ç¿»è¯‘ $t('message.abc')
  // åœ¨ 'zh-CN' æ²¡æœ‰æ‰¾åˆ°å¯¹åº”çš„ç¿»è¯‘ï¼Œä½†æ˜¯åœ¨ 'en' æ‰¾åˆ°äº†å¯¹åº”çš„ç¿»è¯‘ï¼Œé‚£ä¹ˆå°±ä¼šè¿”å› 'en' å¯¹åº”çš„ç¿»è¯‘ã€‚

  // ã€ç¤ºä¾‹ 2ã€‘
  // åŒæ ·çš„é“ç†ï¼Œå¦‚æœé…ç½®æˆæ•°ç»„ï¼Œæ¯”å¦‚ fallbackLocale: ['en', 'fr']ï¼Œè¿™æ„å‘³ç€å¦‚æœ
  // locale ä¸­æ²¡æœ‰åŒ¹é…çš„ç¿»è¯‘é¡¹ï¼Œé‚£ä¹ˆä¼šå…ˆæ‰¾è‹±è¯­ en ç„¶åå†æ‰¾æ³•è¯­ frã€‚
  // ç°åœ¨æˆ‘ä»¬ä½¿ç”¨ $t('message["hello-world"]') å»æŸ¥æ‰¾ç¿»è¯‘ç»“æœï¼Œ
  // ä¼šå‘ç° 'en' æ²¡æœ‰å¯¹åº”çš„ç¿»è¯‘ï¼Œä½†æ˜¯ 'fr' æœ‰å¯¹åº”çš„ç¿»è¯‘ï¼Œé‚£ä¹ˆå°±ä¼šè¿”å› 'fr' å¯¹åº”çš„ç¿»è¯‘ã€‚

  // ã€ç¤ºä¾‹ 3ã€‘
  // å‡å¦‚æˆ‘ä»¬è¦ç¿»è¯‘çš„å†…å®¹ï¼Œåœ¨ locale å’Œ fallbackLocale éƒ½æ²¡æœ‰æ‰¾åˆ°å¯¹åº”çš„ç¿»è¯‘ï¼Œ
  // é‚£ä¹ˆå°±ä¼šæ˜¾ç¤ºå‚æ•°ã€‚
  // æ¯”å¦‚ $t('message.tdahuyou')
  // æœ€ç»ˆç•Œé¢ä¼šç›´æ¥å°†å­—ç¬¦ä¸² message.tdahuyou æ¸²æŸ“å‡ºæ¥ã€‚

  messages: { // å®šä¹‰å„è¯­è¨€çš„ç¿»è¯‘æ¶ˆæ¯
    en: {
      message: {
        hello: 'hello world',
        abc: 'this is abc',
      },
    },
    'zh-CN': {
      message: {
        hello: 'ä½ å¥½ï¼Œä¸–ç•Œ',
      },
    },
    fr: {
      message: {
        'abc': 'c\'est ABC',
        'hello-world': 'bonjour le monde',
      },
    }
  },
})

const app = createApp(App)

app.use(i18n) // å°† i18n æ’ä»¶æŒ‚è½½åˆ° Vue åº”ç”¨ä¸Š
app.mount('#app')
```

**å‚è€ƒç¿»è¯‘**

![](assets/2024-10-04-16-03-37.png)

![](assets/2024-10-04-16-03-41.png)

**æµ‹è¯•**

```vue
<!-- App.vue -->
<script setup lang="ts"></script>

<template>
  <h1>i18n demo</h1>
  <h1>{{ $t('message.hello') }}</h1>
  <h1>{{ $t('message.abc') }}</h1>
  <h1>{{ $t('message["hello-world"]') }}</h1>
  <h1>{{ $t('message.tdahuyou') }}</h1>
</template>
```

æœ€ç»ˆæ¸²æŸ“ç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚

![](assets/2024-10-04-16-04-18.png)
